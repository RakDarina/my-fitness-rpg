!DOCTYPE html>

<html lang="ru">

<–≥–æ–ª–æ–≤–∞>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</title>

<style>

:–∫–æ—Ä–µ–Ω—å {

--primary: #6c5ce7;

--bg: #f5f6fa;

--—É—Å–ø–µ—Ö: #00b894;

--–æ–ø–∞—Å–Ω–æ—Å—Ç—å: #d63031;

--hover-border: #00b894;

--active-bg: #e0e0e0;

}

body {
   font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
   background: var(--bg);
   margin: 0;
   padding-top: 70px;
   height: 100vh;
   overflow: hidden;
}

.header {
   position: fixed; top: 0; left: 0; width: 100%;
   background: white; display: flex; align-items: center; justify-content: space-between;
   padding: 10px 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); z-index: 1000; box-sizing: border-box;
}

.site-title { font-weight: 800; font-size: 1.2rem; color: #2d3436; flex: 1; }
.nav { display: flex; gap: 10px; justify-content: center; flex: 2; }
.nav-btn {
   border: 2px solid transparent; background: none; color: #636e72; font-weight: 600;
   padding: 8px 20px; cursor: pointer; border-radius: 50px; transition: all 0.3s ease;
}
.nav-btn.active { background-color: var(--active-bg); color: #2d3436; }
.star-counter { background: #ffd700; padding: 5px 15px; border-radius: 20px; font-weight: bold; }

/* –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –¢–†–ï–• –ë–õ–û–ö–û–í */
.main-layout {
   display: flex;
   height: calc(100vh - 90px);
   –æ—Ç—Å—Ç—É–ø: 20 –ø–∏–∫—Å–µ–ª–µ–π;
   —Ä–∞–∑—Ä—ã–≤: 20 –ø–∏–∫—Å–µ–ª–µ–π;
   —Ä–∞–∑–º–µ—Ä –∫–æ—Ä–æ–±–∫–∏: –≥—Ä–∞–Ω–∏—Ü–∞-–∫–æ—Ä–æ–±–∫–∞;
}

/* –ë–õ–û–ö 1: –ü–µ—Ä—Å–æ–Ω–∞–∂ (–°–ª–µ–≤–∞) */
.character-block {
   flex: 1.2;
   —Ñ–æ–Ω: –±–µ–ª—ã–π;
   —Ä–∞–¥–∏—É—Å –≥—Ä–∞–Ω–∏—Ü—ã: 20 –ø–∏–∫—Å–µ–ª–µ–π;
   –¥–∏—Å–ø–ª–µ–π: –≥–∏–±–∫–∏–π;
   –≤—ã—Ä–æ–≤–Ω—è—Ç—å-—ç–ª–µ–º–µ–Ω—Ç—ã: –ø–æ —Ü–µ–Ω—Ç—Ä—É;
   –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–µ-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: —Ü–µ–Ω—Ç—Ä;
   box-shadow: 0 4px 15px rgba(0,0,0,0.05);
   –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ: —Å–∫—Ä—ã—Ç–æ;
}
.hero-img {
   –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞: 90%;
   –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞: 90%;
   —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–±—ä–µ–∫—Ç–∞: —Å–æ–¥–µ—Ä–∂–∞—Ç—å;
}

/* –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê */
.side-column {
   flex: 1;
   –¥–∏—Å–ø–ª–µ–π: –≥–∏–±–∫–∏–π;
   –≥–∏–±–∫–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å—Ç–æ–ª–±–µ—Ü;
   —Ä–∞–∑—Ä—ã–≤: 20 –ø–∏–∫—Å–µ–ª–µ–π;
}

/* –ë–õ–û–ö 3: –î–∞–Ω–Ω—ã–µ (–°–ø—Ä–∞–≤–∞ –°–≤–µ—Ä—Ö—É) */
.data-block {
   flex: 2;
   —Ñ–æ–Ω: –±–µ–ª—ã–π;
   border-radius: 20px;
   padding: 25px;
   box-shadow: 0 4px 15px rgba(0,0,0,0.05);
   overflow-y: auto;
}
.stats-grid {
   display: grid;
   grid-template-columns: 1fr 1fr;
   gap: 15px;
   font-size: 18px;
}

/* –ë–õ–û–ö 2: –ö–Ω–æ–ø–∫–∏ (–°–ø—Ä–∞–≤–∞ –°–Ω–∏–∑—É) */
.actions-block {
   background: white;
   border-radius: 20px;
   padding: 20px;
   box-shadow: 0 4px 15px rgba(0,0,0,0.05);
   display: flex;
   flex-direction: column;
   gap: 10px;
}

.btn { border: none; padding: 15px; border-radius: 12px; color: white; cursor: pointer; font-weight: bold; transition: 0.2s; }
.btn-add { background-color: var(--primary); }
.btn-hist { background-color: #a29bfe; }
.btn-undo { background-color: var(--danger); }

.tab-content { display: none; height: 100%; }
.tab-content.active { display: block; }

.modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 2000; justify-content: center; align-items: center; }
.modal-content { background: white; padding: 25px; border-radius: 20px; width: 90%; max-width: 400px; }
.modal-content input { width: 100%; margin-bottom: 12px; padding: 12px; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; }

@media (max-width: 900px) {
   .main-layout { flex-direction: column; overflow-y: auto; height: auto; }
   .character-block { height: 400px; }
}
</style>

</head>

<—Ç–µ–ª–æ>

<header class="header">
   <div class="site-title">–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
   <nav class="nav">
       <button class="nav-btn active" data-tab="tab-data">–î–∞–Ω–Ω—ã–µ</button>
       <button class="nav-btn" data-tab="tab-tasks">–ó–∞–¥–∞–Ω–∏—è</button>
       <button class="nav-btn" data-tab="tab-shop">–ú–∞–≥–∞–∑–∏–Ω</button>
   </nav>
   <div class="star-counter">‚≠êÔ∏è <span id="starDisplay">0</span></div>
</header>

<div id="tab-data" class="tab-content active">
   <div class="main-layout">
       <div class="character-block">
           <img id="characterImage" src="stage1.png" alt="–ì–µ—Ä–æ–π" class="hero-img">
       </div>

       <div class="side-column">
           <div class="data-block">
               <h3 id="lastDateText" style="margin-top:0; color:#636e72; font-size:14px;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</h3>
               <div class="stats-grid" id="currentStats">
                   <div>‚öñÔ∏è –í–µ—Å: ‚Äî</div><div>üíß –í–æ–¥–∞: ‚Äî</div>
                   <div>üî• –ñ–∏—Ä: ‚Äî</div><div>ü•© –ë–µ–ª–æ–∫: ‚Äî</div>
                   <div>üìè –¢–∞–ª–∏—è: ‚Äî</div><div>üìè –ì—Ä—É–¥—å: ‚Äî</div>
                   <div>üìè –ë–µ–¥—Ä–∞: ‚Äî</div><div>üí™ –ë–∏—Ü–µ–ø—Å: ‚Äî</div>
               </div>
           </div>

           <div class="actions-block">
               <button class="btn btn-add" id="openAddStats">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</button>
               <button class="btn btn-hist" id="openHistory">üìú –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–ø–∏—Å–∏</button>
           </div>
       </div>
   </div> <div id="addStatsModal" class="modal">
<    div class="modal-content">        <form id="statsForm">            <h3>–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</h3>            <input type="number" step="0.1" name="weight" placeholder="–í–µ—Å (–∫–≥)" required>            <input type="number" step="0.1" name="fat" placeholder="–ñ–∏—Ä (%)">            <input type="number" step="0.<input type="protein" placeholder="–ë–µ–ª–æ–∫">            <input type="number" step="0.1" name="water" placeholder="–í–æ–¥–∞">            <input type="number" step="0.1" name="waist" placeholder="–¢–∞–ª–∏—è (—Å–º)">            <input type="number" step="0.1" name="chest" placeholder="–ì—Ä—É–¥—å (—Å–º)">            <input type="number" step="0.1" name="hips" placeholder="–ë–µ–¥—Ä–∞ (—Å–º)">            <input type="number" step="0.1" name="bicep" placeholder="–ë–∏—Ü–µ–ø—Å (—Å–º)">            <button type="submit" class="btn btn-add">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>            <button type="button" class="btn btn-undo close-modal" style="margin-top:5px">–û—Ç–º–µ–Ω–∞</button>        </form>    </div>

















</div>

<script>
   document.addEventListener('DOMContentLoaded', function() {
       var state = JSON.parse(localStorage.getItem('fitness_rpg_v5')) || {
           stars: 0, stats: [], completedDates: [], shop: [], inventory: []
       };

       var save = function() {
           localStorage.setItem('fitness_rpg_v5', JSON.stringify(state));
           document.getElementById('starDisplay').innerText = state.stars;
       };

       var updateCharacter = function(weight) {
           var img = document.getElementById('characterImage');
           var w = parseFloat(weight);
           var stage = "stage1.png";
           if (w >= 68) stage = "stage6.png";
           else if (w >= 65) stage = "stage5.png";
           else if (w >= 62) stage = "stage4.png";
           else if (w >= 59) stage = "stage3.png";
           else if (w >= 56) stage = "stage2.png";
           img.src = stage;
       };

       var renderStats = function() {
           var last = state.stats[state.stats.length - 1];
           if (!last) return;
           document.getElementById('lastDateText').innerText = "–ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å: " + last.date;
           document.getElementById('currentStats').innerHTML =
               '<div>‚öñÔ∏è –í–µ—Å: ' + last.weight + ' –∫–≥</div><div>üíß –í–æ–¥–∞: ' + (last.water || '‚Äî') + '</div>' +
               '<div>üî• –ñ–∏—Ä: ' + (last.fat || '‚Äî') + '%</div><div>ü•© –ë–µ–ª–æ–∫: ' + (last.protein || '‚Äî') + '</div>' +
               '<div>üìè –¢–∞–ª–∏—è: ' + (last.waist || '‚Äî') + ' —Å–º</div><div>üìè –ì—Ä—É–¥—å: ' + (last.chest || '‚Äî') + ' —Å–º</div>' +
               '<div>üìè –ë–µ–¥—Ä–∞: ' + (last.hips || '‚Äî') + ' —Å–º</div><div>üí™ –ë–∏—Ü–µ–ø—Å: ' + (last.bicep || '‚Äî') + ' —Å–º</div>';
           updateCharacter(last.weight);
       };

       document.querySelectorAll('.nav-btn').forEach(function(btn) {
           btn.onclick = function() {
               document.querySelectorAll('.tab-content').forEach(function(t) { t.classList.remove('active'); });
               document.querySelectorAll('.nav-btn').forEach(function(b) { b.classList.remove('active'); });
               document.getElementById(btn.getAttribute('data-tab')).classList.add('active');
               btn.classList.add('active');
           };
       });

       document.getElementById('openAddStats').onclick = function() {
           document.getElementById('addStatsModal').style.display = 'flex';
       };
       
       document.querySelectorAll('.close-modal').forEach(function(b) {
           b.onclick = function() {
               document.querySelectorAll('.modal').forEach(function(m) { m.style.display = 'none'; });
           };
       });

       document.getElementById('statsForm').onsubmit = function(e) {
           e.preventDefault();
           var entry = {
               id: Date.now(),
               date: new Date().toLocaleDateString(),
               weight: e.target.weight.value, fat: e.target.fat.value,
               protein: e.target.protein.value, water: e.target.water.value,
               waist: e.target.waist.value, chest: e.target.chest.value,
               hips: e.target.hips.value, bicep: e.target.bicep.value
           };
           state.stats.push(entry);
           save(); renderStats();
           document.getElementById('addStatsModal').style.display = 'none';
           e.target.reset();
       };

       save(); renderStats();
   });
</script>

</body>

</html>
